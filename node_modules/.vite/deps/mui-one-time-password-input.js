import {
  TextField_default
} from "./chunk-YT66PH25.js";
import "./chunk-E5HABXQT.js";
import "./chunk-JGKB32C6.js";
import "./chunk-JCXTEART.js";
import "./chunk-SVBQQMCY.js";
import "./chunk-WDDWISPT.js";
import "./chunk-F6USEMJI.js";
import "./chunk-T3TY5CZ6.js";
import "./chunk-QGFR5UXQ.js";
import "./chunk-AZ7Z6XDJ.js";
import "./chunk-VCHFOQLM.js";
import "./chunk-ZYKIXZZB.js";
import "./chunk-4GW5MTL2.js";
import "./chunk-YRZ4FP42.js";
import "./chunk-7DTNXWD3.js";
import "./chunk-IL63KW7A.js";
import "./chunk-DPZUKCQB.js";
import "./chunk-7AN2PBYP.js";
import "./chunk-73UH5L2V.js";
import "./chunk-IPGCO2IC.js";
import "./chunk-BCUNFOGP.js";
import "./chunk-CE5ETJ3V.js";
import "./chunk-ZPFGGG6H.js";
import "./chunk-ZIGUCSRX.js";
import "./chunk-O2SQFRCA.js";
import "./chunk-2XMV6Z7H.js";
import "./chunk-MRWB2VOX.js";
import "./chunk-ETMXCOEI.js";
import "./chunk-N2NY42I2.js";
import "./chunk-ECZ5NTMM.js";
import {
  Box_default
} from "./chunk-RLE47IO5.js";
import "./chunk-YXHU6OUI.js";
import "./chunk-64B6IZJN.js";
import "./chunk-UWSNSB5S.js";
import "./chunk-AFOBZ25U.js";
import "./chunk-MUQFNDFY.js";
import "./chunk-HTFBOYYQ.js";
import "./chunk-3JOA4H7Q.js";
import "./chunk-A6XQ4W7T.js";
import "./chunk-IERAFBJP.js";
import "./chunk-RYGQJ7KH.js";
import "./chunk-F6Y5NR5L.js";
import "./chunk-M66LTLN6.js";
import "./chunk-4FR4V2B5.js";
import "./chunk-4RM4DTC2.js";
import "./chunk-SUSNWJV4.js";
import "./chunk-GOZHMSIK.js";
import "./chunk-UB6A6PUE.js";
import "./chunk-UCRSR6L2.js";
import "./chunk-XYTUL7ZP.js";
import "./chunk-NQSOUIBZ.js";
import "./chunk-7GIB5FF4.js";
import "./chunk-FIFGBU5N.js";
import "./chunk-QSNV7DNS.js";
import "./chunk-HKT2STKU.js";
import "./chunk-BFL632LT.js";
import "./chunk-4TOEZLD3.js";
import "./chunk-DIYXWOEC.js";
import "./chunk-OSUZZCDG.js";
import "./chunk-EACZ6457.js";
import "./chunk-FHGYHSLW.js";
import "./chunk-ZCSSBJ3Q.js";
import "./chunk-6ZOGN2JI.js";
import "./chunk-RU5XAGBT.js";
import "./chunk-ITGWAFDM.js";
import "./chunk-WZ6BOGF2.js";
import "./chunk-FCYF35HM.js";
import "./chunk-VI3RZLUM.js";
import "./chunk-MJRAQJ4M.js";
import "./chunk-3FLJMHVX.js";
import "./chunk-DHSK56LN.js";
import {
  styled_default
} from "./chunk-O5B7FJTW.js";
import "./chunk-RYFZA22C.js";
import "./chunk-VJP4VWN6.js";
import "./chunk-OPLPMYTC.js";
import {
  require_jsx_runtime
} from "./chunk-NJLIVH7H.js";
import "./chunk-S7AZJX5G.js";
import "./chunk-ATBE4KOY.js";
import "./chunk-J4LPPHPF.js";
import "./chunk-64SEF7DS.js";
import {
  require_react
} from "./chunk-HUL2CLQT.js";
import "./chunk-GS3CDLZ6.js";
import "./chunk-4JLRNKH6.js";
import {
  __toESM
} from "./chunk-EWTE5DHJ.js";

// node_modules/mui-one-time-password-input/dist/mui-one-time-password-input.es.js
var import_jsx_runtime = __toESM(require_jsx_runtime());
var import_react = __toESM(require_react());
var G = styled_default(TextField_default)`
  input {
    text-align: center;
  }
`;
var J = {
  TextFieldStyled: G
};
var Q = (n) => (0, import_jsx_runtime.jsx)(J.TextFieldStyled, { ...n });
var D = {
  left: "ArrowLeft",
  right: "ArrowRight",
  backspace: "Backspace",
  home: "Home",
  end: "End"
};
function U(n, s) {
  return n <= 0 ? [] : Array.from({ length: n }, s);
}
function X(n, s, l) {
  return n.map((i, F) => s === F ? l : i);
}
function P(n) {
  return n.join("");
}
function M(n, s) {
  return [...n, s];
}
function Z(n, s, l) {
  return n.reduce(
    (i, F, C) => {
      const { characters: y, restArrayMerged: d } = i;
      if (C < l)
        return {
          restArrayMerged: d,
          characters: M(y, F)
        };
      const [V, ...E] = d;
      return {
        restArrayMerged: E,
        characters: M(y, V || "")
      };
    },
    {
      restArrayMerged: s,
      characters: []
    }
  ).characters;
}
function v(n) {
  return (s) => {
    n.forEach((l) => {
      typeof l == "function" ? l(s) : l != null && (l.current = s);
    });
  };
}
function ee(n) {
  return n.split("");
}
function N(n) {
  const s = import_react.default.useRef(() => {
    throw new Error("Cannot call an event handler while rendering.");
  });
  return import_react.default.useInsertionEffect(() => {
    s.current = n;
  }), import_react.default.useCallback((...l) => {
    var _a;
    return (_a = s.current) == null ? void 0 : _a.call(s, ...l);
  }, []);
}
var te = () => true;
var le = import_react.default.forwardRef(
  (n, s) => {
    const {
      value: l = "",
      length: i = 4,
      autoFocus: F = false,
      onChange: C,
      TextFieldsProps: y,
      onComplete: d,
      validateChar: V = te,
      className: E,
      onBlur: b,
      ...K
    } = n, j = import_react.default.useRef(l), w = N(d), I = N((e) => {
      const t = e.slice(0, i);
      return {
        isCompleted: t.length === i,
        finalValue: t
      };
    });
    import_react.default.useEffect(() => {
      const { isCompleted: e, finalValue: t } = I(
        j.current
      );
      e && w(t);
    }, [i, w, I]);
    const p = U(
      i,
      (e, t) => ({
        character: l[t] || "",
        inputRef: import_react.default.createRef()
      })
    ), T = (e) => p.findIndex(({ inputRef: t }) => t.current === e), k = () => p.map(({ character: e }) => e), A = (e, t) => {
      const r = X(
        k(),
        e,
        t
      );
      return P(r);
    }, $ = (e) => {
      var _a, _b;
      (_b = (_a = p[e]) == null ? void 0 : _a.inputRef.current) == null ? void 0 : _b.focus();
    }, c = (e) => {
      var _a, _b;
      (_b = (_a = p[e]) == null ? void 0 : _a.inputRef.current) == null ? void 0 : _b.select();
    }, O = (e) => {
      e + 1 !== i && (p[e + 1].character ? c(e + 1) : $(e + 1));
    }, S = (e, t) => typeof V != "function" ? true : V(e, t), Y = (e) => {
      const t = T(e.target);
      if (t === 0 && e.target.value.length > 1) {
        const { finalValue: m, isCompleted: B } = I(
          e.target.value
        );
        C == null ? void 0 : C(m), B && (d == null ? void 0 : d(m)), c(m.length - 1);
        return;
      }
      const r = e.target.value[0] || "";
      let u = r;
      u && !S(u, t) && (u = "");
      const a = A(t, u);
      C == null ? void 0 : C(a);
      const { isCompleted: h, finalValue: f } = I(a);
      h && (d == null ? void 0 : d(f)), u !== "" ? a.length - 1 < t ? c(a.length) : O(t) : r === "" && a.length <= t && c(t - 1);
    }, _ = (e) => {
      const t = e.target, r = t.selectionStart, u = t.selectionEnd, a = T(t), h = r === 0 && u === 0;
      if (t.value === e.key)
        e.preventDefault(), O(a);
      else if (D.backspace === e.key) {
        if (!t.value)
          e.preventDefault(), c(a - 1);
        else if (h) {
          e.preventDefault();
          const f = A(a, "");
          C == null ? void 0 : C(f), f.length <= a && c(a - 1);
        }
      } else D.left === e.key ? (e.preventDefault(), c(a - 1)) : D.right === e.key ? (e.preventDefault(), c(a + 1)) : D.home === e.key ? (e.preventDefault(), c(0)) : D.end === e.key && (e.preventDefault(), c(p.length - 1));
    }, H = (e) => {
      const t = e.clipboardData.getData("text/plain"), r = e.target, u = p.findIndex(
        ({ character: x, inputRef: o }) => x === "" || o.current === r
      ), a = k(), h = Z(
        a,
        ee(t),
        u
      ).map((x, o) => S(x, o) ? x : ""), f = P(h);
      C == null ? void 0 : C(f);
      const { isCompleted: m, finalValue: B } = I(f);
      m ? (d == null ? void 0 : d(B), c(i - 1)) : c(f.length);
    }, L = (e) => {
      if (!p.some(({ inputRef: r }) => r.current === e.relatedTarget)) {
        const { isCompleted: r, finalValue: u } = I(l);
        b == null ? void 0 : b(u, r);
      }
    };
    return (0, import_jsx_runtime.jsx)(
      Box_default,
      {
        display: "flex",
        gap: "20px",
        alignItems: "center",
        ref: s,
        className: `MuiOtpInput-Box ${E || ""}`,
        ...K,
        children: p.map(({ character: e, inputRef: t }, r) => {
          const {
            onPaste: u,
            onFocus: a,
            onKeyDown: h,
            className: f,
            onBlur: m,
            inputRef: B,
            ...x
          } = typeof y == "function" ? y(r) || {} : y || {};
          return (0, import_jsx_runtime.jsx)(
            Q,
            {
              autoFocus: F ? r === 0 : false,
              autoComplete: "one-time-code",
              value: e,
              inputRef: v([t, B]),
              className: `MuiOtpInput-TextField MuiOtpInput-TextField-${r + 1} ${f || ""}`,
              onPaste: (o) => {
                o.preventDefault(), H(o), u == null ? void 0 : u(o);
              },
              onFocus: (o) => {
                o.preventDefault(), o.target.select(), a == null ? void 0 : a(o);
              },
              onChange: Y,
              onKeyDown: (o) => {
                _(o), h == null ? void 0 : h(o);
              },
              onBlur: (o) => {
                m == null ? void 0 : m(o), L(o);
              },
              ...x
            },
            r
          );
        })
      }
    );
  }
);
export {
  le as MuiOtpInput
};
//# sourceMappingURL=mui-one-time-password-input.js.map
